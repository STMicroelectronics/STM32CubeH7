/*********************************************************************************/
/********** THIS FILE IS GENERATED BY TOUCHGFX DESIGNER, DO NOT MODIFY ***********/
/*********************************************************************************/
#include <gui_generated/containers/popupBase.hpp>
#include "BitmapDatabase.hpp"
#include <texts/TextKeysAndLanguages.hpp>
#include <touchgfx/Color.hpp>

popupBase::popupBase() :
    flexButtonCallback(this, &popupBase::flexButtonCallbackHandler),
    backButtonPressedCallback(0),
    startButtonPressedCallback(0)
{
    setWidth(800);
    setHeight(480);

    popUpOverlay.setXY(0, 0);
    popUpOverlay.setBitmap(touchgfx::Bitmap(BITMAP_POP_OVERLAY_ID));

    headline.setPosition(159, 53, 552, 78);
    headline.setColor(touchgfx::Color::getColorFrom24BitRGB(0, 0, 0));
    headline.setLinespacing(0);
    headline.setTypedText(touchgfx::TypedText(T_HEADLINEBOARDINFO));

    infoText.setPosition(162, 129, 549, 215);
    infoText.setColor(touchgfx::Color::getColorFrom24BitRGB(0, 0, 0));
    infoText.setLinespacing(8);
    Unicode::snprintf(infoTextBuffer, INFOTEXT_SIZE, "%s", touchgfx::TypedText(T_SINGLEUSEID1).getText());
    infoText.setWildcard(infoTextBuffer);
    infoText.setTypedText(touchgfx::TypedText(T_INFOBOARDINFO));

    backButton.setIconBitmaps(Bitmap(BITMAP_BACK_BUTTON_ID), Bitmap(BITMAP_BACK_BUTTON_ID));
    backButton.setIconXY(30, 30);
    backButton.setPosition(49, 29, 110, 95);
    backButton.setAction(flexButtonCallback);

    startButton.setIconBitmaps(Bitmap(BITMAP_START_BUTTON_ID), Bitmap(BITMAP_START_BUTTON_ID));
    startButton.setIconXY(20, 14);
    startButton.setPosition(499, 335, 251, 95);
    startButton.setAction(flexButtonCallback);

    add(popUpOverlay);
    add(headline);
    add(infoText);
    add(backButton);
    add(startButton);
}

void popupBase::initialize()
{
	
}

void popupBase::flexButtonCallbackHandler(const touchgfx::AbstractButtonContainer& src)
{
    if (&src == &backButton)
    {
        //BackButtonPressed
        //When backButton clicked emit backButtonPressed callback
        //Emit callback
        emitBackButtonPressedCallback();
    }
    else if (&src == &startButton)
    {
        //StartButtonPressed
        //When startButton clicked emit startButtonPressed callback
        //Emit callback
        emitStartButtonPressedCallback();
    }
}
