/*********************************************************************************/
/********** THIS FILE IS GENERATED BY TOUCHGFX DESIGNER, DO NOT MODIFY ***********/
/*********************************************************************************/
#include <gui_generated/game2d_screen/Game2DViewBase.hpp>
#include "BitmapDatabase.hpp"
#include <texts/TextKeysAndLanguages.hpp>
#include <touchgfx/Color.hpp>

Game2DViewBase::Game2DViewBase() :
    buttonCallback(this, &Game2DViewBase::buttonCallbackHandler)
{
    background.setXY(0, 0);
    background.setBitmap(touchgfx::Bitmap(BITMAP_GAME_2D_FRAME_BACKGROUND_ID));

    gameArea.setPosition(80, 115, 640, 290);



    playerCharacter.setXY(93, 311);
    playerCharacter.setBitmaps(BITMAP_SPRITE_00_ID, BITMAP_SPRITE_09_ID);
    playerCharacter.setUpdateTicksInterval(1);
    playerCharacter.startAnimation(false, true, false);

    flyButton.setXY(80, 409);
    flyButton.setBitmaps(touchgfx::Bitmap(BITMAP_GAME2D_FLY_BUTTON_ID), touchgfx::Bitmap(BITMAP_GAME2D_FLY_BUTTON_PRESSED_ID));

    chromArtOnOffButton.setXY(160, 409);
    chromArtOnOffButton.setBitmaps(touchgfx::Bitmap(BITMAP_GAME2D_ST_BUTTON_ON_ID), touchgfx::Bitmap(BITMAP_GAME2D_ST_BUTTON_PRESSED_ID));
    chromArtOnOffButton.setAction(buttonCallback);

    mcuLoad.setXY(626, 20);

    menuButton.setXY(20, 20);
    menuButton.setBitmaps(touchgfx::Bitmap(BITMAP_GAME2D_MENU_BUTTON_ID), touchgfx::Bitmap(BITMAP_GAME2D_MENU_BUTTON_PRESSED_ID));
    menuButton.setAction(buttonCallback);

    chromArtDescription.setPosition(238, 444, 403, 28);
    chromArtDescription.setColor(touchgfx::Color::getColorFrom24BitRGB(123, 175, 179));
    chromArtDescription.setLinespacing(0);
    chromArtDescription.setTypedText(touchgfx::TypedText(T_GAME_2D_CHROM_ART_DESCRIPTION));

    chromArtHeader.setPosition(238, 421, 310, 25);
    chromArtHeader.setColor(touchgfx::Color::getColorFrom24BitRGB(123, 175, 179));
    chromArtHeader.setLinespacing(0);
    chromArtHeader.setTypedText(touchgfx::TypedText(T_GAME_2D_CHROM_ART_HEADER));

    scoreValue.setPosition(642, 440, 80, 31);
    scoreValue.setColor(touchgfx::Color::getColorFrom24BitRGB(248, 160, 0));
    scoreValue.setLinespacing(0);
    scoreValueBuffer[0] = 0;
    scoreValue.setWildcard(scoreValueBuffer);
    scoreValue.setTypedText(touchgfx::TypedText(T_GAME_2D_SCORE_VALUE));

    scoreText.setXY(662, 420);
    scoreText.setColor(touchgfx::Color::getColorFrom24BitRGB(123, 175, 182));
    scoreText.setLinespacing(0);
    scoreText.setTypedText(touchgfx::TypedText(T_GAME_2D_SCORE_TEXT));

    add(background);
    add(gameArea);
    add(playerCharacter);
    add(flyButton);
    add(chromArtOnOffButton);
    add(mcuLoad);
    add(menuButton);
    add(chromArtDescription);
    add(chromArtHeader);
    add(scoreValue);
    add(scoreText);
}

void Game2DViewBase::setupScreen()
{
    mcuLoad.initialize();
}

void Game2DViewBase::buttonCallbackHandler(const touchgfx::AbstractButton& src)
{
    if (&src == &flyButton)
    {

    }
    else if (&src == &chromArtOnOffButton)
    {
        //chromArtButtonInteraction
        //When chromArtOnOffButton clicked call virtual function
        //Call chromArtButtonHandler
        chromArtButtonHandler();
    }
    else if (&src == &menuButton)
    {
        //gotoMenuButtonPressed
        //When menuButton clicked execute C++ code
        //Execute C++ code
        presenter->gotoMenuSelected();
    }
}
